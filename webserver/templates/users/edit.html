{% extends "base.html" %}

{% block title %}Изменение пользователя{% endblock %}

{% block content %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <div class="container card card-body mt-3">
        <h1>Изменение пользователя</h1>
        <form method="POST">
            <div class="mb-3">
                <label for="display_name" class="form-label">Имя пользователя</label>
                <input class="form-control" type="text" id="display_name" name="display_name" value="{{ user['display_name'] }}" required>
            </div>
            <div class="mb-3">
                <label for="permissions" class="form-label">Разрешения</label>
                <select multiple class="container" id="permissions" name="permissions">
                    {% for perm in perms %}
                        <option class="badge bg-secondary rounded-pill" style="margin: 2px" {% if perm in user_perms %} selected {% endif %} value="{{ perm[0] }}">{{ perm[1] }}</option>
                    {% endfor %}
                </select>
            </div>
            <button type="submit" class="btn btn-success">Сохранить</button>
            <a href="{{ url_for('get_users') }}" class="btn btn-secondary">Назад</a>
        </form>
    </div>
{% endblock %}